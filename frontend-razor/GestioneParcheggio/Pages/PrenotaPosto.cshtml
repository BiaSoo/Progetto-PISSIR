@page
@model PrenotaPostoModel
@{
    ViewData["Title"] = "Prenota Posto";
}

@using GestioneParcheggio.Pages.Shared.Modals;

<div class="row justify-content-center">
    <div class="col-md-6 text-center">
        <h1 class="text-center card-text-title mb-4">Prenota un Posto Auto</h1>
        <form id="prenotaForm" method="post" class="needs-validation" novalidate>
            <div class="mb-4">
                <div class="form-group">
                    <label for="ingresso" class="form-label card-text-title my-2">INGRESSO</label>
                    <div class="input-group date" id="datetimepicker-ingresso">
                        <input type="text" class="form-control form-control-lg rounded-pill shadow-sm" id="ingresso" name="ingresso">
                        <div class="input-group-addon input-group-prepend">
                            <span class="input-group-text border-0"><i class="fas fa-calendar" style="color: #2c176b;"></i></span>
                        </div>
                    </div>
                    <label for="uscita" class="form-label card-text-title my-2 mt-4">USCITA</label>
                    <div class="input-group date" id="datetimepicker-uscita">
                        <input type="text" class="form-control form-control-lg rounded-pill shadow-sm" id="uscita" name="uscita">
                        <div class="input-group-addon input-group-prepend">
                        <span class="input-group-text border-0"><i class="fas fa-calendar" style="color: #2c176b;"></i></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary">Prenota</button>
            </div>
        </form>
    </div>
</div>

<input type="hidden" id="error-message" value="@TempData["ErrorMessage"]" />
@await Html.PartialAsync("~/Pages/Shared/Modals/ErrorModalCenter.cshtml", new ErrorModalCenterModel { ErrorMessage = TempData["ErrorMessage"]?.ToString() })

<input type="hidden" id="success-message" value="@TempData["SuccessMessage"]" />
@await Html.PartialAsync("~/Pages/Shared/Modals/SuccessModal.cshtml", new SuccessModalModel { SuccessMessage = TempData["SuccessMessage"]?.ToString() })

<script>
    $(document).ready(function () {
        var errorMessage = $("#error-message").val();
        if (errorMessage) {
            $("#errorModalCenter").modal('show');
        } else if ($("#success-message").val()) {
            $("#successModal").modal('show');
        }
    });
</script>




